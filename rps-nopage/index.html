<!DOCTYPE html>

<head>
    <title>Rock Paper Scissors</title>
</head>

<body>
    <script>
        game();

        function capitalize(string) {
            let lowercaseString = string.toLowerCase();
            let capitalizeFirstLetter = lowercaseString.charAt(0).toUpperCase();
            let lowercaseSubString = lowercaseString.slice(1, lowercaseString.length);
            let sentenceResult = capitalizeFirstLetter + lowercaseSubString;
            return sentenceResult;
        }

        function computerPlay() {
            const choices =  ["Rock", "Paper", "Scissors"];
            let randomNumber = Math.floor(Math.random() * 3);
            return choices[randomNumber];
        }    

        function getInput() {
            let playerSelection = prompt("Let's play a game of Rock, Paper, Scissors.\nEnter your choice");
            let computerSelection = computerPlay();
            playerSelection = capitalize(playerSelection);
            alert("PlayerSelection: " + playerSelection + "\ncomputerSelection: " + computerSelection);
            return [playerSelection, computerSelection];
        }

        function playRound(playerSelection, computerSelection) {
            switch(playerSelection + computerSelection) {
                case "RockScissors":
                case "PaperRock":
                case "ScissorsPaper":
                    alert("You Win! " + playerSelection + " beats " + computerSelection);
                    break;
                case "RockPaper":
                case "PaperScissors":
                case "ScissorsRock":
                    alert("You Lose! " + computerSelection + " beats " + playerSelection);
                    break;
                case "RockRock":
                case "PaperPaper":
                case "ScissorsScissors":
                    alert("It's a draw! " + playerSelection + " draws " + computerSelection);
                    break;
                default: alert("Error! Only the following inputs are allowed: Rock, Paper, Scissors");
            }
        }

        function game() {
            let gameSelections;
            for(let i = 0; i < 5; i++){
                console.log(i);
                gameSelections = getInput();
                playRound(gameSelections[0], gameSelections[1]);
            }
        }
    </script>
</body>